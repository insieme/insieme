alias int = int<4>;

def struct A {

	x : ref<int>;
	
	ctor (x : int) {
		this.x = x;
		print("Creating: %d\n", x);
	}
	
	dtor () {
		print("Clearing: %d\n", *x);
		x = 0;
	}
};

int main() {

	// create an un-initialized memory location
	var ref<A> a = ctorA(ref_var(undefined(A)), 1);
	
	// init using in-place constructor
	ctorA(a, 2);

	// invoke destructor
	dtorA(a);

	return 0;
}
